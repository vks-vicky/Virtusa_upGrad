--------------------------------------
                NOTES
--------------------------------------

Kafka is a platform for streaming high-throughput, real time data pipelines. It supports the publication, storage and processing of records streams in a fault-tolerant way. 

Kafka is a publish-subscribe messaging system, used to send messages between processes, applications and servers.  Apache Kafka is a software where we need to create a context (topic) can be defined further processed. 

Applications may connect to this system and transfer message onto the topic. 

A message can include any kind of information from any event on your blog or can be very simple text message. 

Core Components of Apache Kafka are 

-> Kafka Broker

    It is a server that runs Kafka and stores data, Typically a kafka cluster consists of multiple brokers that work together to provide scalability 

-> Producers : It is a service that sends the messages to Kafka topic , these processes push data into the kafka system. Producers describe which topic the message should go to and kafka efficiently handles if based on strategry. 

-> Kafka Topic : Is a category or feed name to which messages are published. Kafka messages are always associated with topics.  And when you want to send a message, you send it to the specific topic. Topics are divided into partitions which allows kafka to scale and handle large amount of data. 

-> Consumers and Consumer Groups  : Consumer daemon reads the messages from kafka topics, allows consumer groups, where multiple consumers can read from the same topic, but kakfa ensures that each message is processed by only one consumer in the group. 

Partitions allow you to split the data in a particular topic across multiple brokers.

-> Zookeeper : Kafka uses apache zookeepers to manage metadata, controls access and resources. Zookeeper ensures high availability by making sure the Kafka cluster remains functional even if a broker fails. 





--------------------------------------
            INSTALLATION
--------------------------------------

Step 1: Install Java (REQUIRED)

Kafka 4.x requires Java 17+

âœ” Check Java
java -version


Expected:

java version "17.x"

âŒ If Java not installed

Download & install JDK 17:
ğŸ‘‰ https://adoptium.net/temurin/releases/

âœ” After install, reopen CMD and recheck java -version

ğŸ”¹ Step 2: Download Kafka

Go to:
ğŸ‘‰ https://kafka.apache.org/downloads

Download Binary download (Scala 2.13) 
Example:

kafka_2.13-4.1.1.tgz

NOTE: v4.1.1 doesn't have kraft mode

ğŸ”¹ Step 3: Extract Kafka (.tgz) on Windows
âœ” Using 7-Zip (Recommended)

Right-click .tgz

Extract Here â†’ gives .tar

Right-click .tar

Extract Here

Final folder:

D:\kafka_2.13-4.1.1

ğŸ”¹ Step 4: Open Command Prompt
D:
cd D:\kafka_2.13-4.1.1

ğŸ”¹ Step 5: Generate Kafka Cluster ID (KRaft)
bin\windows\kafka-storage.bat random-uuid


Example output:

Z0plYTqjQMSN6yKT8Y6X-Q


ğŸ“Œ Copy the UUID

ğŸ”¹ Step 6: Format Kafka Storage (MANDATORY)
âš ï¸ This step is REQUIRED for Kafka 4.x

bin\windows\kafka-storage.bat format --config config\kraft\server.properties --cluster-id Z0plYTqjQMSN6yKT8Y6X-Q


âœ” Expected:

Successfully formatted log directories

ğŸ”¹ Step 7: Start Kafka Server
bin\windows\kafka-server-start.bat config\kraft\server.properties


âœ” Kafka will start on:

localhost:9092

ğŸ”¹ Step 8: Verify Kafka is Running

Open NEW CMD window:

bin\windows\kafka-topics.bat --bootstrap-server localhost:9092 --list


âœ” No error = Kafka is running ğŸ‰

ğŸ”¥ Kafka Basic Test (Optional but Recommended)
âœ” Create Topic
bin\windows\kafka-topics.bat --bootstrap-server localhost:9092 --create --topic test-topic --partitions 1 --replication-factor 1

âœ” Start Producer
bin\windows\kafka-console-producer.bat --bootstrap-server localhost:9092 --topic test-topic


Type messages and press Enter.

âœ” Start Consumer (new CMD)
bin\windows\kafka-console-consumer.bat --bootstrap-server localhost:9092 --topic test-topic --from-beginning


âœ” Messages should appear ğŸ‰